From 89b13baf1d46e4fb10023af30ef305efec4fd603 Mon Sep 17 00:00:00 2001
From: Andreas Koenig <andk@cpan.org>
Date: Wed, 12 Jan 2022 21:53:35 +0100
Subject: [PATCH] s,/dev/null,$devnull,

- another thanks to Tomas Hoger for spotting that
---
 lib/CPAN/Distribution.pm | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: perl-5.34.0/cpan/CPAN/lib/CPAN/Distribution.pm
===================================================================
--- perl-5.34.0.orig/cpan/CPAN/lib/CPAN/Distribution.pm
+++ perl-5.34.0/cpan/CPAN/lib/CPAN/Distribution.pm
@@ -1548,7 +1548,7 @@ sub CHECKSUM_check_file {
         my $devnull = File::Spec->devnull;
         my $gpg = $CPAN::Config->{gpg} or
             $CPAN::Frontend->mydie("Your configuration suggests that you do not have 'gpg' installed. This is needed to verify checksums with the config variable 'check_sigs' on. Please configure it with 'o conf init gpg'");
-        my $system = qq{"$gpg" --verify --batch --no-tty --output "$tempfile" "$chk_file" 2> "/dev/null"};
+        my $system = qq{"$gpg" --verify --batch --no-tty --output "$tempfile" "$chk_file" 2> "$devnull"};
         0 == system $system or $CPAN::Frontend->mydie("gpg run was failing, cannot continue: $system");
         open $fh, $tempfile or $CPAN::Frontend->mydie("Could not open $tempfile: $!");
         local $/;
